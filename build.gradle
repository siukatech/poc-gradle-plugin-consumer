/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.7/samples
 */

import com.siukatech.poc.react.backend.plugin.ReactBackendPlugin
import com.siukatech.poc.react.backend.plugin.ReactBackendUtil

plugins {
    id 'java'
    id 'groovy'
    id 'maven-publish'
    id 'org.springframework.boot' version '3.2.1'
////    id 'io.spring.dependency-management'
    id 'org.openapi.generator' version '7.2.0'
    id 'com.siukatech.poc.react-backend-plugin' version '0.0.1-SNAPSHOT'
}

ext {
    mapstructVersion = '1.6.0.RC1'
//    springBootVersion = '3.2.1'
//    springSecurityVersion = '6.2.1'
//    springBootVersion = "${ReactBackendPlugin.SPRING_BOOT_VERSION}"
//    springSecurityVersion = "${ReactBackendPlugin.SPRING_SECURITY_VERSION}"
//    openapiGeneratorVersion = "${ReactBackendPlugin.OPENAPI_GENERATOR_VERSION}"
    springBootVersion = "${ReactBackendUtil.extractSpringBootVersion()}"
    springSecurityVersion = "${ReactBackendUtil.extractSpringSecurityVersion()}"
    openapiGeneratorVersion = "${ReactBackendUtil.extractOpenapiGeneratorVersion()}"
}

println "springBootVersion: [${springBootVersion}]"
println "springSecurityVersion: [${springSecurityVersion}]"
println "openapiGeneratorVersion: [${openapiGeneratorVersion}]"

reactBackendConfig {
//    specUri = "/Users/siuka/dev-workspace/openapi-spec/openapi-generator-example/pocreact-v0.0.1.yaml"
    specUri = "https://raw.githubusercontent.com/siukatech/openapi-spec/main/openapi-generator-example/pocreact-v0.0.1.yaml"
    packageRoot = "com.siukatech.poc.generated"
    schemaMappingsMap = [
            "SimpleDiscPageResult": "org.springframework.data.domain.Page"
            , "ComplexDiscPageResult": "org.springframework.data.domain.Page"
    ]
}
